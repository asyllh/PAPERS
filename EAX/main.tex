\documentclass{elsarticle}

\input{includes/preamble.tex}

\begin{document}
	
\begin{frontmatter}
\title{An Evolutionary Algorithm for the Score-Constrained Strip-Packing Problem}
\author{Asyl L. Hawa}
\author{Rhyd Lewis}
\author{Jonathan M. Thompson}
\address{School of Mathematics, Cardiff University, Senghennydd Road, Cardiff, UK}
\end{frontmatter}

%--------------------------------------------------------------------

\section{Introduction}
\begin{itemize}
	\item Define COP, single strip problem and multi-strip problem (SCSPP)
	\item Other examples of where COP is used
	\item Vicinal sum constraint
	\item Cite Goulimis, previous Heuristics paper, follow on
	\item Lit review, Lewis TSP method
	\item Formal definitions of SCSPP and subproblem
	\item BPP special case of SCSPP where $\tau = 0$, hence SCSPP NP-hard
	\item Need to decide which items to pack on which strips and how the items should be packed, different orientations, s.t. minimum scoring distance met
	\item Show that sub-problem can be seen as an instance of COP, minimum scoring distance = vicinal sum constraint
	\item Describe rest of paper, AHC single strip for COP, Evolutionary Algorithm and Postopt
	\item Two phase approach, cite vertex colouring paper
	\item Pack strips from left to right
	\item $|\mathcal{I}| = n$
	\item Minimum scoring distance $\tau$ approx 70mm in industry
	\item $\frac{n!}{2} 2^n$ distinct arrangements
	\item Combinatorial explosion
	\item COP infinite width, strips given fixed width
	\item Outer score widths ignored
\end{itemize}

\section{Solving the COP}
\begin{itemize}
	\item Condensed version of algorithm from previous paper
	\item Set notation and terms to be used throughout paper
	\item Theorem/Proof polynomial time $O(n^2)$
	\item Hamiltonian cycle characteristics, NP-hard, Karp 21 NP-Complete problem (both direct and undirected), complexity
	\item Alternating Hamiltonian cycle NP-hard generalises Ham cycle problem, but special graph structure means solution can be found in polynomial time
	\item Pseudocode/brief overview of AHC algorithm in steps
	\item Keep store of feasible/infeasible packings, check these first before running ahc
	\item Preliminary checks - these were not included in previous paper, speed
	\item Exact P-time algorithm
	\item Produces feasible solution, if one exists (guaranteed)
	\item Create graph $G$
	\item MCM, BR, MBR, CP
	\item Proposition alt ham cycle generalises ham cycle
	\item Alt ham cycle definition
	\item MBR types, check that Beckers method is redundant
	\item Add dominating vertices to help produce Ham cycle, remove at end, outer score widths ignored
	\item Theorem MCM guarantee $O(n \lg n)$
\end{itemize}

\section{AHC}
\begin{itemize}
	\item Graph $G = (V, B \cup R)$
	\item Run MCM, produce $R'$
	\item if $|R'| < n+1$, infeasible, end
	\item Subgraph $G = (V, B \cup R')$, components $C_1, C_2,...,C_l$
	\item If $l = 1$, feasible, end
	\item Run BR, produce sets $R_1, R_2,...$
	\item If no sets produced, infeasible, end
	\item Else if $\exists$ a set such that $|R_i| = l$, connecting procedure, feasible, end
	\item Run MBR (provided BR produced more than one set)
	\item If valid collection $\mathcal{R}^*$ produced, connecting procedure, feasible, end
	\item Else infeasible, end
\end{itemize}

\section{Heuristics for the SCSPP}
\begin{itemize}
	\item SCSPP at least as hard as BPP, NP-hard
	\item Why heuristics
	\item Equations feasible candidate solution
	\item Combination of third and fourth conditions for feasible solution equivalent to $\mathcal{F}$, set of all feasible strips
	\item lowerbound, optimal solution, theoretical minimum
	\item theoretical min less accurate
	\item Describe MFFD and MFFD$^+$ heuristics
	\item State advantages and disadvantages
	\item Difference between SCSPP and BPP
\end{itemize}

For an instance of the SCSPP, a feasible solution is represented by the set $\mathcal{S} = \{S_1, S_2, ..., S_k\}$ such that
\begin{subequations}
	\begin{align}
	\bigcup\nolimits_{i=1}^{|\mathcal{S}|} S_i &= \mathcal{I}, \label{eqn:packall}\\[3pt]
	S_i \cap S_j &= \emptyset \hspace{5mm} \forall \hspace{1mm} i, j \in \{1, 2, ..., |\mathcal{S}|\}, \hspace{2mm} i \neq j, \label{eqn:nooverlap} \\[3pt]
	\sum\nolimits_{i=1}^{|S_j|}w_i & \leq W \hspace{3mm} \forall \hspace{1mm} S_j \in \mathcal{S}, \label{eqn:capacity} \\[3pt]
	\textup{\textbf{rhs}}(i) + \textup{\textbf{lhs}}(i+1) &\geq \tau \hspace {5mm} \forall \hspace{1mm} i \in \{1, 2, ..., |S_j|-1\}, \hspace{2mm} \forall \hspace{1mm} S_j \in \mathcal{S}. \label{eqn:vscstrip}
	\end{align}
\end{subequations}


\subsection{Experimental Results - Heuristics}
\begin{itemize}
	\item Problem instances
	\item Artificial and real instances
	\item $n \in \{100,500\}$
	\item $W \in \{2500,5000\}$
	\item $\tau = 70$
	\item 1000 instances of each of the 4 types
	\item $a_i, b_i \in [1,70]$
	\item $w_i \in [150,1000]$
	\item Time it takes to run heuristics
	\item Tables of comparisons
	\item State that there are 20 types on average for real instances (no longer in table)
\end{itemize}

\begin{table}[h!]
	\centering
\caption{MFFD vs MFFD$^+$}
\begin{threeparttable}
\begin{tabular}{cccccccccccc}\toprule
	& & & \multicolumn{4}{c}{MFFD} &\phantom{a}& \multicolumn{4}{c}{MFFD$^+$}\\
	\cmidrule{4-7} \cmidrule{9-12}
	Instance & $W$ & $t$ & $|\mathcal{S}|$\tnote{1} & $\# t$ & $q$ & $f(\mathcal{S})$ && $|\mathcal{S}|$ & $\# t$ & $q$ & $f(\mathcal{S})$\\ \midrule	
	a,100 & 2500 & 23.323 & 30.754 & 0 & 1.320 & 0.686 && 28.457 & 26 & 1.221 & 0.771 \\
	a,100 & 5000 & 11.922 & 23.583 & 0 & 1.982 & 0.412 && 19.881 & 7 & 1.670 & 0.543  \\
	\midrule
	a,500 & 2500 & 114.942 & 140.206 & 0 & 1.220 & 0.781 && 132.647 & 0 & 1.154 & 0.842 \\
	a,500 & 5000 & 57.722 & 103.209 & 0 & 1.789 & 0.499 && 89.544 & 0 & 1.552 & 0.609 \\
	\midrule
	\midrule
	r,100 & 2500 & 23.473 & 37.069 & 5 & 1.600 & 0.549 && 35.419 & 16 & 1.523 & 0.597 \\
	r,100 & 5000 & 11.981 & 32.348 & 1 & 2.731 & 0.288 && 29.611 & 5 & 2.497 & 0.347 \\
	\midrule
	r,500 & 2500 & 115.239 & 184.106 & 0 & 1.612 & 0.552 && 177.249 & 0 & 1.551 & 0.593 \\
	r,500 & 5000 & 57.865 & 163.819 & 0 & 2.860 & 0.279 && 153.416 & 0 & 2.678 & 0.322 \\
	\bottomrule
\end{tabular}
\begin{tablenotes}
	\item[1] Mean from 1000 instances
\end{tablenotes}	
\end{threeparttable}	
\label{table:MFFD}
\end{table}

\begin{table}[h!]
\centering
\caption{average number of items per strip - MFFD vs MFFD$^+$}
	\begin{tabular}{ccccc}\toprule
		Instance & $W$ & items/lb & MFFD & MFFD$^+$ \\ \midrule	
		a,100 & 2500 & 4.288 & 3.252 & 3.514 \\
		a,100 & 5000 & 8.388 & 4.240 & 5.030 \\
		\midrule
		a,500 & 2500 & 4.350 & 3.566 & 3.769 \\
		a,500 & 5000 & 8.662 & 4.845 & 5.584 \\
		\midrule
		\midrule
		r,100 & 2500 & 4.260 & 2.698 & 2.823 \\
		r,100 & 5000 & 8.347 & 3.091 & 3.377 \\
		\midrule
		r,500 & 2500 & 4.339 & 2.716 & 2.821 \\
		r,500 & 5000 & 8.641 & 3.052 & 3.259 \\
		\bottomrule
	\end{tabular}	
\end{table}


\begin{itemize}
	\item Although MFFD$^+$ better than MFFD, still disadvantages
	\item Initially all items in decreasing order, may be a better ordering
	\item only packing one item at a time, one item may not be feasible on a strip but if two were packed at the same time could be feasible
	\item explain benefit of using Evolutionary algorithm, lead on to next section
\end{itemize}

\section{Evolutionary Algorithm}
\begin{itemize}
	\item Only MFFD$^+$ used in EA
	\item Create initial population, one solution using MFFD$^+$, the rest using MFFR$^+$
	\item Each solution in population is also mutated and local search is applied
	\item Choose two parent solutions from population
	\item Apply one of two recombination operators
	\item Paragraph for each operator, GGA, GPX', and GPN
	\item Explain why GPX cannot be used, cite Lewis paper
	\item Describe repair procedure using MFFD$^+$
	\item Section explaining Local Search, PairPair, PairSin, SinSin, MoveSin
	\item Note the use of feasPacking/infeasPacking sets to aid the search
	\item Reduces the number of times AHC needs to be called, for each group of items AHC should only be called once
	\item Preliminary check before calling AHC
	\item Once offspring is produced, calculate fitness of parents and offspring, replace worst parent with offspring in population
	\item GGA $1 \leq i < j \leq |\mathcal{S}_Y|$ \textbf{and} cannot have $i = 1 \land j = |\mathcal{S}_Y|$ unlike in Rhyd paper - ensures that at least 2 strips from $\mathcal{S}_Y$ are in offspring, and prevents all strips from $\mathcal{S}_Y$ from being selected, as this would mean that all strips from $\mathcal{S}_X$ would be deleted from the offspring, and so offspring will not have strips from both parents. Ensures that offspring has strips from both parents.
	\item Fitness $f(\mathcal{S}) = \frac{\sum_{S \in \mathcal{S}} (A(S)/W)^2}{|\mathcal{S}|}$ Falkenaur 1998
\end{itemize}

\subsection{Experimental Results - EA}
\begin{itemize}
	\item Types of instances - artificial, real
	\item Problem instance generator will produce 1000 instances for four different sets, number of items = 100 and 500 and artificial and real instances, 4000 problem instances in total
	\item Each of these sets will then be run 6 times using different arguments - strip width = 2500 and 5000, and either GGA, GPX', or GPN
	\item Overall there will be 24 types of outputs from EA
	\item In EA output file to compare:
	\begin{itemize}
		\item Proportion of times feasPacking/infeasPacking sets used instead of AHC
		\item Number of strips in best solution found
		\item Number of iterations of EA within the given time limit
		\item Fitness value of the best solution found
		\item If best solution found is equivalent to the lowerbound
	\end{itemize}
	\item Keep track of best fitness/best solution/time at each iteration, if better solution found then write to file, produce graph
	\item At the end of each EA iteration, add all strips from offspring to feasPacking set to use in post optimisation phase
	\item number of solution in initial population = 25
	\item Number of items - 100, 500
	\item Time limit for EA - 5 minutes
	\item Width of strips - 2500, 5000
	\item Recombination operators - GGA, GPX', GPN
\end{itemize}

\begin{table}[h!]
	\centering
	\caption{xOver comparisons}
	\begin{tabular}{cccccccccccc}\toprule
		& & & &\multicolumn{2}{c}{GGA} &\phantom{a}& \multicolumn{2}{c}{GPX'} &\phantom{a}& \multicolumn{2}{c}{GPN}\\
		\cmidrule{5-6} \cmidrule{8-9} \cmidrule{11-12}
		Instance & $W$ & $t$ && $|\mathcal{S}|$ & $t\%$ && $|\mathcal{S}|$ & $t\%$ && $|\mathcal{S}|$ & $t\%$ \\ \midrule	
		a,100 & 2500 & $t$ && EA121 & - && EA122 & - && EA123 & -\\
		a,100 & 5000 & $t$ && EA151 & - && EA152 & - && EA153 & -\\
		\midrule
		a,500 & 2500 & $t$ && EA521 & - && EA522 & - && EA523 & -\\
		a,500 & 5000 & $t$ && EA551 & - && EA552 & - && EA553 & -\\
		\midrule
		\midrule
		r,100 & 2500 & $t$ && ER121 & - && ER122 & - && ER123 & -\\
		r,100 & 5000 & $t$ && ER151 & - && ER152 & - && ER153 & -\\
		\midrule
		r,500 & 2500 & $t$ && ER521 & - && ER522 & - && ER523 & -\\
		r,500 & 5000 & $t$ && ER551 & - && ER552 & - && ER553 & -\\
		\bottomrule
	\end{tabular}	
	\label{table:EA}
\end{table}

\section{Postoptimisation}
\begin{itemize}
	\item Exact cover formulation, NP-hard, state the IP, describe DLX
	\item cite Knuth dancing steps
	\item Use strips in feasPacking for post opt
	\item Compare with EA output - is a better solution found, or a solution with the same number of strips but a better fitness value?
	\item Is the post opt phase able to find a solution equal to the lowerbound?
	\item Post opt will only ever find a solution equal to or better than the solution found in EA, never worse
	\item Execution time
	\item Set cover problem is optimisation problem, find min number of sets
	\item exact cover problem is decision problem, does a set exist
	\item however since we add every item on its own strip to feasPacking, we know that a set exists
	\item problem is to find minimum number of strips that covers all items and contains every item exactly once
	\item $A = (a_{ij})$ - $m$ x $n$ matrix
	\item $M = \{1, 2,..., m\}$ - rows of the matrix, each row $i \in M$ is a strip
	\item $N = \{1, 2,...,n\}$ - columns of the matrix, each column $j \in N$ is an item
	\item $(a_{ij}) = 1$ iff item $j$ is on strip $i$
	\item Say that row $i$ covers column $j$ if $a_{ij} = 1$
	\item Find the smallest number of strips $S \subseteq M$ that contains every item exactly once, i.e. union of strips $= \mathcal{I}$ and intersection $= \emptyset$
	\item Find minimum cardinality subset $S \subseteq M$ of rows such that each column $j \in N$ is covered by exactly one row $i \in S$
	\item Xpress mosel model
\end{itemize}
\[x_i =
\begin{cases} 
1 & \text{if } i \in S \\
0 & \text{otherwise} 
\end{cases}
\]

\begin{align*}
\text{minimise} &\sum_{i \in M} x_i \\
\text{subject to} &\sum_{i \in M} a_{ij} x_i = 1 \hspace{5mm} \forall j \in N \\
&x_i \in \{0,1\} \hspace{5mm} \forall i \in M
\end{align*}

\subsection{Experimental Results - Postoptimisation}
\begin{itemize}
	\item
\end{itemize}

\section{Conclusion}
\begin{itemize}
	\item Could use selected packings rather than all packings
\end{itemize}



\bibliographystyle{elsarticle-num}
\bibliography{includes/bibliography}

\end{document}